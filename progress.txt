## 2026-01-05: Fix Carousel Scroll Jumping/Jitter

### Status
Complete - carousel now snaps cleanly to valid positions without jumping.

### Changes
- Modified `src/components/casting/SwipeableTopArea.tsx` to fix the snap-back behavior
- Previously, when a swipe didn't meet the threshold, it would snap back to `startTranslateX.value` which could be an intermediate position if the gesture started mid-animation
- Now, the code calculates the nearest valid screen position (0 or -SCREEN_WIDTH) based on whether the start position was past the midpoint
- This ensures the carousel always snaps to a clean position even when gestures overlap with animations

### Technical Details
- Added `currentScreen` calculation using midpoint threshold: `startTranslateX.value < -SCREEN_WIDTH / 2 ? -SCREEN_WIDTH : 0`
- Removed the clamping logic that was redundant since targetX is now always a valid snap point
- Also added guards to only call onSwipeLeft/onSwipeRight callbacks when actually changing screens

### Notes
- The "coins" in the bug report refers to the swipeable carousel between question/hexagram views
- Tests pass, TypeScript compiles without errors

## 2026-01-05: Center Magnified Hexagram on Screen

### Status
Complete - hexagram now vertically centers when magnified after casting all 6 lines.

### Changes
- Modified `src/screens/CastingScreen.tsx` to calculate and animate a `translateY` offset when the hexagram is magnified
- The centering calculates the available screen height (minus top padding) and moves the hexagram card to the center
- Animation syncs with the existing scale animation (700ms delay, 500ms duration)

### Technical Details
- Available height = screenHeight - 60 (top padding)
- Target center = availableHeight / 2
- Current card center = hexagramTopMargin + 170 (half of container height)
- TranslateY offset animates the difference to center the card

### Notes
- The View Reading button and Start Over link remain attached below the hexagram and move with it
- Coins slide out left before centering begins, freeing up the bottom of the screen

## 2026-01-05: Smooth AI Text Streaming

### Status
Reverted - original streaming behavior preferred by user. Task marked complete in PRD.

## 2026-01-05: Reduce Excessive Bolding in AI Interpretation

### Status
Complete - deployed to production.

### Changes
- Added "Use minimal bold formatting in your response." instruction to the AI prompt in `functions/src/helpers.ts:buildUserPrompt()`
- This instructs the AI to use less **bold** markdown in interpretations

### Notes
- Simple one-line change to the prompt
- Functions deployed successfully to Firebase
